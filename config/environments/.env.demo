# Bybit Demo Trading Configuration
# ================================
# This file contains configuration for integrating ICT Enhanced Trading Monitor
# with Bybit's testnet environment for demo trading and model training.

# IMPORTANT: This is for TESTNET/DEMO trading only!
# Never use real API keys or enable live trading without proper validation.

# =============================================================================
# BYBIT TESTNET CREDENTIALS
# =============================================================================
# Get these from: https://testnet.bybit.com/
# 1. Create account on Bybit testnet
# 2. Go to API Management
# 3. Create new API key with trading permissions
# 4. Copy API key and secret below

BYBIT_API_KEY=your_testnet_api_key_here
BYBIT_API_SECRET=your_testnet_api_secret_here

# Environment Settings
BYBIT_TESTNET=true
BYBIT_BASE_URL=https://api-testnet.bybit.com
BYBIT_WS_URL=wss://stream-testnet.bybit.com/v5/public/linear

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================

# Auto Trading Settings
AUTO_TRADING_ENABLED=false  # Set to true to enable automatic trade execution
DEMO_MODE=true              # Always keep true for demo trading
MAX_DEMO_BALANCE=100000     # Maximum demo balance to use (USD)

# Position Management
MAX_CONCURRENT_POSITIONS=3
MAX_POSITION_SIZE_USD=1000  # Maximum position size in USD
MIN_POSITION_SIZE_USD=10    # Minimum position size in USD

# Risk Management
MAX_RISK_PER_TRADE=0.02     # 2% maximum risk per trade
MAX_PORTFOLIO_RISK=0.05     # 5% maximum total portfolio risk
CONFIDENCE_THRESHOLD=0.6    # Minimum signal confidence to trade (60%)

# Order Management
DEFAULT_ORDER_TYPE=Market   # Market, Limit
ORDER_TIMEOUT_SECONDS=30    # Maximum time to wait for order execution
SLIPPAGE_TOLERANCE=0.001    # 0.1% maximum acceptable slippage

# Stop Loss and Take Profit
USE_STOP_LOSS=true
USE_TAKE_PROFIT=true
DEFAULT_STOP_LOSS_PCT=0.02  # 2% stop loss
DEFAULT_TAKE_PROFIT_PCT=0.04 # 4% take profit
TRAILING_STOP_ENABLED=false

# =============================================================================
# ICT SIGNAL INTEGRATION
# =============================================================================

# ICT Monitor Connection
ICT_MONITOR_URL=http://localhost:5001
ICT_SIGNAL_POLL_INTERVAL=2  # Check for new signals every 2 seconds
ICT_SIGNAL_TIMEOUT=300      # Signal expires after 5 minutes

# Signal Filtering
MIN_CONFLUENCE_FACTORS=2    # Minimum number of confluence factors required
REQUIRED_SESSIONS=London,NewYork  # Trading sessions to accept signals from
SIGNAL_COOLDOWN_MINUTES=5   # Wait time between signals for same symbol

# =============================================================================
# REAL-TIME DATA CONFIGURATION
# =============================================================================

# WebSocket Settings
WS_RECONNECT_INTERVAL=5     # Seconds to wait before reconnecting
WS_MAX_RECONNECT_ATTEMPTS=10
WS_PING_INTERVAL=20         # Ping server every 20 seconds
WS_HEARTBEAT_TIMEOUT=60     # Consider connection dead after 60s

# Market Data
PRICE_UPDATE_INTERVAL=1     # Update prices every second
ORDERBOOK_DEPTH=5          # Number of orderbook levels to track
TRADE_HISTORY_LIMIT=100    # Number of recent trades to store

# Symbols to Monitor
TRADING_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,XRPUSDT

# =============================================================================
# PERFORMANCE TRACKING
# =============================================================================

# Metrics Collection
TRACK_EXECUTION_LATENCY=true
TRACK_SLIPPAGE=true
TRACK_FILL_QUALITY=true
PERFORMANCE_UPDATE_INTERVAL=60  # Update metrics every 60 seconds

# Data Storage
STORE_TRADE_HISTORY=true
TRADE_DATA_RETENTION_DAYS=90
EXPORT_PERFORMANCE_CSV=true
CSV_EXPORT_INTERVAL_HOURS=24

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE=bybit_demo_trading.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Monitoring
ENABLE_ALERTS=true
ALERT_ON_CONNECTION_LOSS=true
ALERT_ON_EXECUTION_FAILURE=true
ALERT_ON_RISK_BREACH=true

# Dashboard
ENABLE_WEB_DASHBOARD=true
DASHBOARD_PORT=5002
DASHBOARD_UPDATE_INTERVAL=5  # Update dashboard every 5 seconds

# =============================================================================
# ML MODEL TRAINING CONFIGURATION
# =============================================================================

# Model Training
COLLECT_TRAINING_DATA=true
TRAINING_DATA_FILE=ml_training_data.json
RETRAIN_MODEL_INTERVAL_HOURS=24
MIN_TRADES_FOR_RETRAINING=50

# Feature Collection
COLLECT_MARKET_FEATURES=true
COLLECT_EXECUTION_FEATURES=true
COLLECT_RISK_FEATURES=true

# Model Validation
VALIDATE_PREDICTIONS=true
PREDICTION_ACCURACY_THRESHOLD=0.65
MODEL_CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# SAFETY AND CIRCUIT BREAKERS
# =============================================================================

# Daily Limits
MAX_TRADES_PER_DAY=50
MAX_DAILY_LOSS_USD=500
MAX_CONSECUTIVE_LOSSES=5

# Emergency Stops
ENABLE_KILL_SWITCH=true
AUTO_STOP_ON_MAJOR_LOSS=true
MAJOR_LOSS_THRESHOLD_PCT=0.1  # Stop trading if 10% portfolio loss

# Connection Monitoring
MAX_CONNECTION_DOWNTIME_MINUTES=5
AUTO_RESTART_ON_FAILURE=true

# =============================================================================
# DEVELOPMENT AND DEBUG SETTINGS
# =============================================================================

# Debug Mode
DEBUG_MODE=false
SIMULATE_TRADES_ONLY=false  # Set true to simulate without actual orders
VERBOSE_LOGGING=false

# Testing
TEST_MODE=false
TEST_BALANCE_USD=10000
TEST_SYMBOL=BTCUSDT

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Enable Notifications
ENABLE_NOTIFICATIONS=false
NOTIFICATION_TYPE=console  # console, email, slack (when implemented)

# Trade Notifications
NOTIFY_ON_SIGNAL_RECEIVED=true
NOTIFY_ON_TRADE_EXECUTED=true
NOTIFY_ON_POSITION_CLOSED=true
NOTIFY_ON_PERFORMANCE_MILESTONE=true